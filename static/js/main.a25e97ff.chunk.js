(this["webpackJsonpflag-freak"]=this["webpackJsonpflag-freak"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=(n(14),n(15),n(8)),s=n(1),u=n(2),l=n(4),h=n(3),m=n(5),f=(n(16),function(e){var t=e.text,n=e.onButtonClick,r=e.type;return a.a.createElement("button",{type:r||"button",onClick:n},t)});n(17);function p(e){var t=e.options,n=e.userChoice,r=e.onAnswerChange,o=function(e){var t="LABEL"===e.target.tagName?e.target.previousSibling.value:e.target.value;r(t)};return t=t&&t.map((function(e,t){return a.a.createElement("span",{className:"option",key:e.id},a.a.createElement("input",{type:"radio",id:e.id,value:e.id,onChange:o,checked:n===e.id}),a.a.createElement("label",{htmlFor:e.name,onClick:o},e.name))})),a.a.createElement("div",{id:"options"},t)}function E(e){var t=e.correctAnswer,n=e.correct?a.a.createElement("p",null,a.a.createElement("span",{style:{color:"green"}},"Correct!")," ",t.name):a.a.createElement("p",null,a.a.createElement("span",{style:{color:"red"}},"Incorrect.")," Correct answer:"," ",t.name);return a.a.createElement("div",{id:"options"},n)}n(18);var d=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("img",{src:this.props.flagUrl,alt:"flag"}))}}]),t}(r.Component);function C(e){var t=e.status,n=e.options,r=e.correctAnswer,o=e.userChoice,c=e.onAnswerChange,i=e.onButtonClick;return a.a.createElement("div",null,t===v.UNDECIDED?a.a.createElement(p,{options:n,userChoice:o,onAnswerChange:c}):a.a.createElement(E,{correct:t===v.WINNER,correctAnswer:r}),a.a.createElement(f,{onButtonClick:i,text:t===v.UNDECIDED?"Check":"Next"}),a.a.createElement(d,{flagUrl:r.flag}))}var v={UNDECIDED:0,WINNER:1,LOST:2},g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleButtonClick=function(e){if(n.state.status===v.UNDECIDED){if(-1===n.state.userChoice)return;var t=n.state.userChoice===n.state.correctAnswer;n.setState({status:t?v.WINNER:v.LOST})}else n.startGame()},n.handleAnswerChange=function(e){n.setState({userChoice:Number(e)})},n.state={COUNTRY_DATA:[],options:[],correctAnswer:void 0,status:v.UNDECIDED,userChoice:-1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.populateCountries("https://restcountries.eu/rest/v2/all?fields=name;capital;flag").then((function(){e.startGame()})).catch((function(e){console.log("Error initializing game: "+e)}))}},{key:"startGame",value:function(){var e=this.getDistinctRandomNumbers(4,this.state.COUNTRY_DATA.length),t=e[Math.floor(4*Math.random())];this.setState({options:e,correctAnswer:t,userChoice:-1,status:v.UNDECIDED})}},{key:"getDistinctRandomNumbers",value:function(e,t){for(var n=[];n.length<e;){var r=Math.floor(Math.random()*t);n.includes(r)||n.push(r)}return n}},{key:"populateCountries",value:function(e){var t=this;return this.fetchArrOfObjectsFrom(e).then((function(e){t.setState({COUNTRY_DATA:e},(function(){}))})).catch((function(e){console.log("Error populating countries "+e)}))}},{key:"fetchArrOfObjectsFrom",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.length>0?e:[]})).catch((function(e){return console.log("Error fetching data "+e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,r=t.status,o=t.correctAnswer,c=t.userChoice,s=n.map((function(t){return Object(i.a)({id:t},e.state.COUNTRY_DATA[t])})),u=this.state.COUNTRY_DATA[o];return void 0===o?a.a.createElement("div",null,"Loading..."):a.a.createElement(C,{options:s,status:r,correctAnswer:u,userChoice:c,onAnswerChange:this.handleAnswerChange,onButtonClick:this.handleButtonClick})}}]),t}(r.Component);var A=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{id:"div-with-bg"},a.a.createElement("h1",null,"Flag Freak")),a.a.createElement("main",null,a.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.a25e97ff.chunk.js.map